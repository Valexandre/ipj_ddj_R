<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>IPJ - Datajournalisme</title>
    <meta charset="utf-8" />
    <meta name="author" content="Victor Alexandre" />
    <script src="index_files/header-attrs-2.7/header-attrs.js"></script>
    <link href="index_files/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="index_files/remark-css-0.0.1/default-fonts.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# IPJ - Datajournalisme
## Cours 03 : L’analyse de données
### Victor Alexandre

---




# 1. L'analyse, par où commencer ?

---

## Mettre son jeu de données en ordre

Avant toute **analyse**, faîtes-vous un bloc de code où :
1. **charger vos données** ;
2. **identifier ses dimensions** ;
3. **renommer les variables**.

Nous travaillerons aujourd'hui sur le jeu de données preuves de covoiturage (édition juillet 2022), [disponible sur data.gouv.fr en scsv](https://www.data.gouv.fr/fr/datasets/trajets-realises-en-covoiturage-registre-de-preuve-de-covoiturage/).


```r
covoit &lt;- read_csv2("data/2022-07.csv")
```

---

## Repérez ses forces et ses faiblesses

* y a-t-il des variables mal renseignées ?
* y a-t-il des variables particulièrement intéressantes ?
* y a-t-il des variables redondantes ?



```r
table(is.na(covoit$journey_id))
```

```
## 
##  FALSE 
## 350976
```

```r
unique(covoit$journey_start_insee)
```

```
##    [1] "17300" "77132" "91471" "76540" "77450" "94081" "93063" "94080" "93008"
##   [10] "95176" "93050" "92078" "93059" "44109" "78551" "78502" "35217" "17480"
##   [19] "38557" "75056" "76322" "76640" "45028" "17353" "69279" "38193" "69259"
##   [28] "92012" "78481" "77083" "84075" "91223" "44162" "76216" "91687" "91286"
##   [37] "93029" "76575" "77284" "44128" "74087" "34145" "62048" "17299" "62555"
##   [46] "10335" "44113" "91479" "91521" "44025" "44069" "49194" "37091" "49007"
##   [55] "67462" "84031" "30321" "17127" "17218" "62457" "62564" "67196" "45280"
##   [64] "60382" "10081" "57283" "91339" "91179" "53117" "44073" "49050" "44155"
##   [73] "44072" "49200" "44154" "95058" "85039" "76495" "44203" "44061" "49155"
##   [82] "76106" "49267" "62386" "06084" "34024" "06090" "67280" "68294" "84069"
##   [91] "62065" "69276" "15122" "15184" "69123" "77288" "76319" "93055" "53161"
##  [100] "44022" "44055" "44143" "49086" "53023" "44131" "44052" "34270" "62032"
##  [109] "42222" "07227" "34272" "34108" "88358" "38316" "15212" "12089" "60483"
##  [118] "91174" "91631" "77058" "38474" "53130" "49015" "44026" "44184" "08105"
##  [127] "62119" "34022" "17376" "60533" "38085" "49244" "92049" "76673" "78621"
##  [136] "49331" "95134" "49099" "78396" "69019" "35105" "68218" "67320" "38318"
##  [145] "54578" "55578" "04148" "38148" "60338" "50502" "15133" "25056" "06123"
##  [154] "91161" "93010" "78158" "93027" "94028" "94022" "60175" "60159" "72156"
##  [163] "60057" "71270" "38022" "59254" "35001" "62427" "86222" "30344" "38157"
##  [172] "57606" "54395" "57227" "10268" "92050" "76705" "53140" "77152" "92025"
##  [181] "53054" "95487" "76391" "35360" "17028" "17009" "54415" "60477" "67115"
##  [190] "57097" "34172" "01093" "60109" "54304" "45195" "42052" "33337" "42186"
##  [199] "78349" "77495" "91494" "77051" "93051" "76178" "76057" "91648" "78322"
##  [208] "94052" "44030" "78681" "78361" "76402" "74128" "57642" "62033" "57443"
##  [217] "59645" "35154" "57019" "54542" "31483" "45030" "45050" "45021" "62126"
##  [226] "32160" "13028" "59350" "69100" "74233" "94043" "91405" "77118" "93048"
##  [235] "77173" "91570" "78410" "95637" "94017" "78423" "78490" "27103" "76681"
##  [244] "60612" "62724" "62321" "88253" "30351" "84007" "88209" "88273" "57049"
##  [253] "35125" "62523" "38544" "35359" "17443" "17158" "34276" "57683" "45047"
##  [262] "45252" "81140" "59288" "69243" "60142" "91021" "91103" "77295" "77128"
##  [271] "77042" "92023" "77107" "76475" "94065" "78517" "76116" "94073" "94018"
##  [280] "49092" "57480" "67411" "57616" "57032" "84080" "60277" "34217" "57209"
##  [289] "34202" "76312" "67281" "59234" "01142" "87085" "50129" "31232" "91692"
##  [298] "49023" "93072" "37276" "77186" "91363" "91041" "77122" "76700" "78440"
##  [307] "85295" "37261" "95250" "78220" "91201" "27654" "57039" "06095" "60335"
##  [316] "06088" "57190" "60633" "30311" "31555" "33003" "31281" "74242" "81284"
##  [325] "34031" "01378" "43184" "91667" "78531" "93057" "93071" "77373" "78401"
##  [334] "77153" "91228" "91549" "92073" "95088" "95680" "44138" "44027" "77037"
##  [343] "78668" "78362" "94044" "78442" "91425" "77315" "76377" "74112" "34255"
##  [352] "17472" "60265" "60077" "60302" "60575" "59005" "30006" "57322" "34318"
##  [361] "34239" "13007" "31149" "10323" "10030" "10297" "01376" "43224" "92007"
##  [370] "44041" "49063" "14046" "77251" "60313" "77296" "35238" "95054" "94054"
##  [379] "37152" "77281" "93046" "91347" "94041" "27528" "85216" "85302" "60104"
##  [388] "60470" "38087" "60108" "17041" "54273" "35015" "88488" "88145" "60405"
##  [397] "31488" "10325" "38553" "84087" "45302" "69266" "42323" "13055" "13039"
##  [406] "69244" "78208" "78644" "78311" "28134" "77360" "95018" "37153" "78073"
##  [415] "44195" "77330" "44129" "44126" "78172" "49283" "85109" "60103" "06069"
##  [424] "60590" "60372" "60178" "60220" "57413" "57171" "60136" "31516" "81271"
##  [433] "31338" "27238" "57463" "17284" "82142" "50185" "27116" "38001" "17083"
##  [442] "31187" "83001" "26347" "59606" "91514" "49246" "27329" "95582" "76020"
##  [451] "37122" "95127" "95203" "91226" "78310" "93030" "44122" "51454" "28404"
##  [460] "91097" "76758" "77489" "77291" "53155" "76591" "95424" "94076" "77320"
##  [469] "76498" "91433" "77307" "92072" "95539" "77175" "77023" "85232" "49176"
##  [478] "85268" "74010" "74105" "01010" "26333" "60403" "34295" "60026" "17375"
##  [487] "88160" "69282" "57156" "34113" "84150" "25411" "33192" "42218" "78640"
##  [496] "77445" "91272" "44180" "44223" "91175" "78624" "77053" "76509" "91579"
##  [505] "95428" "77514" "95527" "49127" "85218" "44002" "44210" "95607" "91665"
##  [514] "77438" "91345" "77121" "91338" "95491" "76410" "91649" "91421" "76125"
##  [523] "76491" "77258" "73215" "73095" "27008" "74220" "88126" "35006" "60041"
##  [532] "34087" "38483" "34079" "34227" "88327" "17219" "17306" "38053" "10018"
##  [541] "15014" "73051" "31203" "67458" "13042" "79048" "82121" "13005" "58079"
##  [550] "03310" "34003" "43268" "13001" "63352" "59544" "27507" "25578" "26166"
##  [559] "01089" "40261" "78605" "38563" "91017" "95572" "38337" "49035" "92009"
##  [568] "91215" "77394" "44013" "78513" "92019" "94037" "95394" "27229" "69271"
##  [577] "89100" "76451" "78297" "76448" "77374" "27580" "49020" "85034" "77335"
##  [586] "93047" "78674" "77108" "93005" "44035" "91540" "78335" "44137" "85191"
##  [595] "76718" "49180" "62842" "34327" "17142" "60003" "17222" "17396" "57695"
##  [604] "57620" "57757" "62215" "34176" "38017" "30352" "34078" "57047" "76035"
##  [613] "60201" "17021" "10387" "10061" "31212" "56260" "06033" "83090" "06064"
##  [622] "37205" "82075" "01290" "45155" "90010" "83061" "83057" "21231" "45315"
##  [631] "83073" "73011" "61169" "81004" "69264" "42126" "29019" "33119" "06083"
##  [640] "33550" "51230" "64536" "14118" "35308" "29020" "29254" "74256" "83137"
##  [649] "64422" "76108" "51662" "43137" "17415" "01194" "31395" "83031" "74056"
##  [658] "35284" "38537" "95563" "77026" "53182" "37172" "91534" "91573" "44005"
##  [667] "77407" "91377" "78646" "91027" "76464" "76231" "76571" "93006" "91326"
##  [676] "95149" "49284" "77229" "94060" "76462" "72154" "49123" "85221" "85092"
##  [685] "49353" "78466" "78382" "76039" "95574" "44020" "78123" "27227" "27572"
##  [694] "94059" "77018" "78650" "93001" "91122" "78267" "94021" "92060" "77494"
##  [703] "91589" "92004" "92026" "94002" "77468" "44172" "93066" "89387" "28188"
##  [712] "53084" "95306" "78165" "85090" "44169" "85047" "28191" "76743" "27649"
##  [721] "76654" "49307" "49301" "85084" "49247" "74116" "83023" "17274" "17407"
##  [730] "57447" "34129" "57155" "62498" "60029" "08409" "35068" "06079" "34154"
##  [739] "34123" "57591" "57140" "13010" "34058" "54171" "06004" "57031" "13056"
##  [748] "57542" "83116" "34210" "60624" "17434" "80021" "17373" "10362" "10287"
##  [757] "11359" "15196" "51108" "03254" "45234" "14713" "69286" "63124" "56117"
##  [766] "35337" "47323" "86294" "19274" "35306" "67306" "13103" "26313" "67482"
##  [775] "27032" "31044" "76351" "69009" "73065" "02168" "35090" "05164" "27375"
##  [784] "44190" "95268" "93013" "77031" "49132" "78146" "95500" "85149" "91661"
##  [793] "91689" "92032" "37098" "95554" "91198" "95585" "77390" "44009" "94019"
##  [802] "92036" "78688" "93053" "37175" "76474" "76456" "44048" "94068" "95256"
##  [811] "78090" "17153" "92020" "45191" "94077" "77420" "92048" "77305" "44016"
##  [820] "53190" "53185" "49018" "85154" "44014" "85303" "85304" "85119" "49367"
##  [829] "44209" "74164" "74243" "74006" "06029" "08145" "35338" "57543" "88090"
##  [838] "62737" "34057" "35161" "30011" "60164" "30221" "86194" "17340" "17094"
##  [847] "34114" "34088" "67034" "88408" "30123" "88048" "34051" "76260" "60245"
##  [856] "34341" "30335" "68249" "01004" "81070" "01390" "31356" "10401" "10123"
##  [865] "45290" "33281" "59043" "62647" "01053" "06027" "62351" "69202" "59449"
##  [874] "22093" "86062" "22259" "26084" "62160" "11262" "40230" "57631" "14764"
##  [883] "62755" "45313" "62041" "74241" "35353" "70232" "64238" "31424" "80379"
##  [892] "39051" "62782" "54526" "73308" "35278" "91315" "77067" "53152" "44198"
##  [901] "94004" "85194" "85146" "95210" "49080" "78140" "76594" "95219" "76484"
##  [910] "49135" "44152" "27684" "95199" "77146" "93070" "95183" "95218" "77183"
##  [919] "92024" "38059" "22113" "92002" "44063" "95052" "44204" "49048" "93031"
##  [928] "77447" "44215" "53015" "44201" "85182" "44117" "44079" "85190" "37067"
##  [937] "49333" "01173" "74042" "74239" "57624" "79162" "06161" "06130" "34337"
##  [946] "88237" "62573" "34240" "57142" "17065" "35097" "34112" "35252" "38378"
##  [955] "57433" "17463" "60333" "57392" "67118" "88304" "84122" "35206" "88251"
##  [964] "17449" "34301" "30324" "60665" "13063" "17291" "57202" "62044" "13002"
##  [973] "26010" "26162" "10224" "31446" "31588" "45089" "59328" "35023" "31421"
##  [982] "45069" "81099" "07010" "83099" "70421" "29103" "67447" "14047" "74236"
##  [991] "14762" "57660" "74280" "14341" "68224" "67155" "86177" "59295" "65304"
## [1000] "15258" "14663" "35225" "71475" "70279" "57630" "86115" "13059" "76217"
## [1009] "34032" "44130" "37206" "91659" "92063" "91477" "92040" "53175" "91587"
## [1018] "44037" "49069" "49373" "95063" "92071" "44032" "91216" "92014" "44023"
## [1027] "27011" "94033" "53062" "94074" "76099" "53201" "72090" "77285" "93079"
## [1036] "28292" "38276" "78138" "37163" "53119" "76728" "76717" "76157" "77155"
## [1045] "77487" "95604" "78686" "94058" "72346" "49371" "35352" "85140" "79049"
## [1054] "85153" "49355" "77327" "94079" "78643" "93032" "77014" "78383" "95392"
## [1063] "53005" "49248" "73008" "35051" "44077" "01354" "74205" "60355" "35087"
## [1072] "34179" "60009" "88011" "84119" "57212" "57491" "35207" "84088" "34213"
## [1081] "17466" "57017" "34090" "13092" "42272" "88483" "60235" "88087" "30127"
## [1090] "68044" "83143" "01244" "01386" "56165" "10260" "31291" "45039" "10406"
## [1099] "38072" "31032" "85142" "31113" "45286" "76655" "47157" "34244" "26250"
## [1108] "64108" "64131" "30047" "14347" "87119" "27410" "22172" "33063" "02691"
## [1117] "86235" "87187" "57582" "40088" "31574" "73054" "27469" "17354" "59368"
## [1126] "16163" "77337" "77040" "94034" "77294" "22164" "76517" "37233" "95252"
## [1135] "27582" "78683" "78314" "44033" "44159" "76759" "77111" "95313" "94047"
## [1144] "38229" "95445" "95351" "44142" "94038" "78217" "76429" "76325" "53096"
## [1153] "77384" "22254" "44101" "95462" "91645" "76412" "93045" "44064" "38140"
## [1162] "44047" "37027" "38214" "72058" "49261" "85051" "53055" "85013" "72373"
## [1171] "44096" "44212" "76536" "76163" "37273" "53262" "74311" "74225" "88465"
## [1180] "88178" "60387" "62528" "57655" "60199" "35283" "34116" "06155" "35347"
## [1189] "84054" "67073" "38340" "54263" "17349" "60242" "35152" "67365" "35257"
## [1198] "42237" "17146" "34039" "34246" "34204" "34041" "31282" "69029" "26325"
## [1207] "31506" "35253" "47147" "50292" "34320" "84081" "64445" "50099" "35047"
## [1216] "31582" "54115" "35243" "83050" "21458" "57240" "30141" "79329" "79034"
## [1225] "34340" "06065" "68376" "02738" "59009" "62758" "03023" "14566" "35184"
## [1234] "21171" "31118" "22213" "71040" "28085" "93078" "49323" "44003" "76750"
## [1243] "22338" "77131" "91105" "44043" "78498" "76165" "37018" "37139" "53034"
## [1252] "53104" "91552" "94003" "94071" "92035" "37059" "91319" "78404" "94016"
## [1261] "91432" "85003" "22211" "85019" "38485" "44018" "94046" "92075" "76497"
## [1270] "78327" "27498" "93062" "77397" "77106" "37159" "49215" "53097" "85108"
## [1279] "77372" "94078" "73213" "37214" "49347" "85226" "49308" "27386" "37014"
## [1288] "49292" "74119" "74288" "74281" "01033" "34134" "38415" "35330" "88429"
## [1297] "34274" "54431" "60307" "34333" "84004" "38399" "34076" "83138" "17063"
## [1306] "60643" "69155" "37123" "67364" "45232" "31003" "71076" "33200" "47081"
## [1315] "47001" "51649" "29053" "64545" "28059" "06157" "29075" "69290" "33318"
## [1324] "30189" "21661" "86293" "14536" "45244" "22084" "29151" "43216" "54482"
## [1333] "26071" "64348" "33522" "06018" "22118" "28422" "54215" "63113" "29046"
## [1342] "89311" "82037" "62193" "26324" "10333" "34336" "63032" "84035" "35076"
## [1351] "78418" "95488" "37245" "53045" "92046" "27316" "76146" "77350" "22353"
## [1360] "77113" "38185" "27616" "76550" "78431" "85082" "37195" "91136" "94042"
## [1369] "91457" "77326" "95355" "91312" "78124" "94069" "85130" "77322" "35264"
## [1378] "49241" "78455" "27258" "76502" "77470" "49328" "49192" "85238" "44066"
## [1387] "53146" "44098" "77169" "95051" "95476" "77382" "77437" "93064" "77475"
## [1396] "91064" "38516" "77192" "95446" "78265" "78586" "72107" "85178" "85002"
## [1405] "49183" "22004" "73029" "76103" "44103" "85277" "01407" "74210" "57751"
## [1414] "17194" "17010" "67085" "17414" "17190" "84141" "57431" "34050" "06007"
## [1423] "57139" "69283" "86164" "34036" "34242" "34243" "88412" "34128" "68005"
## [1432] "68162" "13112" "50098" "31069" "14301" "31056" "33362" "86174" "86095"
## [1441] "33039" "35055" "76113" "76069" "77268" "38058" "77145" "76721" "76610"
## [1450] "35109" "53147" "27203" "91085" "77126" "27587" "78474" "49055" "38133"
## [1459] "78381" "91691" "53137" "49377" "91330" "78329" "78009" "77478" "76457"
## [1468] "76164" "78415" "93073" "77410" "49160" "49021" "27535" "76738" "37211"
## [1477] "79079" "74298" "74118" "74026" "74312" "34073" "57153" "34282" "57445"
## [1486] "17166" "62861" "57230" "06152" "35115" "34157" "62486" "54157" "30210"
## [1495] "60567" "35210" "58131" "32024" "63052" "56091" "59183" "62560" "86103"
## [1504] "65440" "77203" "44189" "77243" "77238" "92044" "76634" "94075" "27107"
## [1513] "22207" "53243" "94070" "76222" "91458" "38511" "78368" "78465" "37099"
## [1522] "77008" "22362" "72329" "85211" "77217" "76212" "38150" "78356" "92062"
## [1531] "92022" "78299" "37104" "85005" "85086" "85284" "37154" "85220" "74250"
## [1540] "34314" "60007" "54459" "30069" "34343" "17308" "60063" "10343" "45157"
## [1549] "62895" "13033" "86041" "21390" "54090" "35288" "89024" "76105" "37217"
## [1558] "49216" "78486" "95555" "77114" "76602" "78003" "85156" "95039" "95625"
## [1567] "77142" "85152" "37266" "77032" "77431" "27701" "85089" "85029" "53094"
## [1576] "78537" "28178" "44217" "37281" "74282" "74124" "57716" "88513" "60425"
## [1585] "67276" "34027" "30003" "33284" "10060" "29117" "78358" "37208" "91156"
## [1594] "91679" "95142" "27016" "78190" "53186" "78126" "91412" "91600" "27638"
## [1603] "85097" "27090" "76561" "01160" "17200" "34198" "84015" "34120" "57412"
## [1612] "37094" "10381" "73330" "11069" "29069" "91114" "77453" "95257" "78545"
## [1621] "95019" "77226" "77273" "22070" "77385" "95197" "93014" "95388" "76100"
## [1630] "44194" "93007" "76095" "74075" "62624" "34077" "17186" "17136" "13015"
## [1639] "68175" "63262" "29220" "84132" "29105" "64024" "94001" "76617" "22168"
## [1648] "77085" "91274" "92064" "85151" "27348" "76737" "38479" "30083" "88136"
## [1657] "34249" "62525" "78672" "77141" "91411" "14076" "31417" "77482" "76123"
## [1666] "78242" "91666" "95459" "77059" "77412" "68066" "34095" "74303" "62756"
## [1675] "78049" "77455" "91111" "60233" "78403" "91045" "91434" "85296" "27488"
## [1684] "62268" "60390" "56058" "77182" "77483" "77531" "77241" "95627" "63300"
## [1693] "53247" "76636" "85065" "77161" "84089" "78343" "91292" "34247" "34332"
## [1702] "59523" "38314" "76709" "77020" "95101" "76558" "77379" "85006" "49129"
## [1711] "62019" "67248" "77464" "95652" "49223" "91635" "37011" "34163" "69007"
## [1720] "94053" "91243" "34165" "78117" "77449" "84043" "78397" "44050" "60139"
## [1729] "85018" "78118" "62371" "62570" "62178" "17484" "34010" "95277" "27493"
## [1738] "49061" "74224" "10265" "44151" "91333" "44114" "49306" "83008" "78372"
## [1747] "68271" "62628" "62563" "60616" "10230" "06085" "77533" "91200" "76446"
## [1756] "91657" "62847" "62132" "62587" "26295" "34169" "62510" "30032" "34127"
## [1765] "57275" "60117" "53107" "53103" "67300" "62249" "35014" "31150" "25222"
## [1774] "01246" "95023" "44165" "49125" "77517" "49167" "91016" "94011" "72276"
## [1783] "54469" "60538" "45226" "45025" "47225" "57540" "56075" "93074" "49218"
## [1792] "37156" "67033" "76482" "85215" "44053" "44140" "13027" "34192" "13091"
## [1801] "57206" "54184" "57672" "28089" "76005" "92077" "78092" "60668" "57521"
## [1810] "57132" "37072" "56007" "69256" "60157" "77317" "92076" "37167" "78029"
## [1819] "37249" "84092" "42059" "59521" "57663" "69104" "88135" "67218" "72080"
## [1828] "95280" "95510" "01025" "08480" "06010" "45137" "26058" "92051" "77458"
## [1837] "57452" "45224" "77176" "85163" "44175" "74016" "78224" "76452" "95641"
## [1846] "78206" "60591" "27458" "91461" "94067" "77237" "45203" "57693" "35227"
## [1855] "59343" "77171" "78005" "27332" "78522" "34321" "77393" "49022" "08174"
## [1864] "88451" "77306" "53039" "68185" "60583" "57597" "62516" "27133" "37050"
## [1873] "60463" "49211" "79191" "86053" "76503" "78089" "78575" "26362" "70550"
## [1882] "22264" "27275" "57221" "59367" "27188" "77181" "49054" "08311" "62637"
## [1891] "57512" "34185" "44182" "57534" "06032" "40192" "60176" "71306" "67180"
## [1900] "78367" "67445" "34248" "59512" "77210" "77249" "27351" "95371" "27285"
## [1909] "74133" "86066" "38012" "13054" "60395" "34166" "85300" "95116" "91109"
## [1918] "88454" "13060" "69003" "59324" "62369" "40313" "40075" "53174" "44083"
## [1927] "78087" "85262" "49231" "72181" "49201" "38449" "13040" "60462" "88415"
## [1936] "88383" "08194" "54079" "69277" "64300" "91617" "91044" "77061" "74305"
## [1945] "33243" "19031" "86045" "59268" "38239" "76753" "49214" "77123" "44158"
## [1954] "76114" "74013" "17207" "69204" "59491" "59160" "59122" "54547" "14101"
## [1963] "88099" "69285" "28015" "62875" "63430" "76305" "57647" "77441" "91511"
## [1972] "91577" "91340" "85208" "95580" "44036" "53077" "62801" "35039" "57415"
## [1981] "60639" "35096" "62318" "31254" "61070" "73179" "59159" "50025" "29232"
## [1990] "77511" "78402" "85031" "72132" "22152" "78143" "84136" "88196" "84047"
## [1999] "31433" "50168" "36088" "35189" "86274" "76447" "27015" "27301" "49222"
## [2008] "27151" "49278" "44087" "60646" "34023" "79130" "13087" "13099" "06075"
## [2017] "13117" "22278" "51504" "45285" "27562" "59178" "89263" "83106" "35297"
## [2026] "22187" "69275" "32013" "39397" "56174" "74264" "54357" "67164" "74002"
## [2035] "71153" "62894" "35179" "59484" "01366" "06012" "69127" "35177" "14220"
## [2044] "91207" "91468" "91538" "91235" "78077" "78168" "78255" "38179" "38039"
## [2053] "72167" "41018" "76354" "74012" "60365" "88006" "88094" "38448" "54150"
## [2062] "76493" "59346" "12202" "33422" "02217" "56046" "27214" "78062" "76263"
## [2071] "38158" "72264" "27448" "53271" "08391" "57351" "34254" "33122" "14754"
## [2080] "14738" "17347" "83115" "31458" "09225" "27306" "77079" "37021" "91086"
## [2089] "49064" "27105" "95309" "95370" "76159" "94015" "92033" "85264" "88520"
## [2098] "50601" "16102" "69072" "69116" "54323" "44176" "93049" "49271" "57487"
## [2107] "57645" "68298" "48080" "10034" "65286" "06104" "77180" "76056" "77377"
## [2116] "62480" "50139" "14752" "49330" "69199" "30084" "69299" "26198" "73151"
## [2125] "42071" "77428" "53061" "76555" "95323" "38397" "62014" "50147" "74229"
## [2134] "17420" "59360" "50093" "25212" "76532" "95091" "91378" "91386" "50444"
## [2143] "56164" "22081" "85081" "74040" "88247" "60628" "88134" "35236" "45119"
## [2152] "50002" "76367" "77234" "78269" "27467" "38144" "14715" "76608" "27470"
## [2161] "76443" "44089" "60623" "88114" "38515" "78321" "35272" "77518" "85222"
## [2170] "01313" "62270" "27284" "27681" "38249" "67028" "59273" "76541" "27196"
## [2179] "77316" "53226" "57350" "01361" "53157" "77124" "91553" "53169" "78464"
## [2188] "77479" "78623" "84129" "34344" "34256" "57622" "91376" "49257" "76259"
## [2197] "35008" "35192" "62489" "10321" "60558" "76599" "78615" "76548" "78334"
## [2206] "49110" "31148" "93077" "77279" "91546" "85162" "35229" "38035" "88028"
## [2215] "78642" "77060" "91685" "08043" "83004" "17447" "60570" "26252" "95042"
## [2224] "72065" "17369" "60106" "37109" "91225" "91249" "62133" "57677" "49058"
## [2233] "94056" "78296" "44012" "57666" "77513" "95450" "95598" "51210" "91129"
## [2242] "49138" "77276" "77221" "76378" "60494" "95229" "85288" "91191" "60325"
## [2251] "44135" "77269" "60088" "78043" "91099" "14203" "01365" "78346" "60459"
## [2260] "17315" "06122" "95504" "70245" "77485" "54286" "57336" "60251" "22363"
## [2269] "17008" "30265" "38344" "73212" "85240" "41059" "77282" "60123" "57726"
## [2278] "95288" "77440" "38352" "62186" "34150" "95060" "77480" "38298" "62217"
## [2287] "77005" "77134" "35038" "54546" "78104" "95529" "60253" "95427" "60465"
## [2296] "27365" "22343" "76514" "49041" "63069" "76271" "88481" "69064" "60030"
## [2305] "22226" "76366" "27322" "76560" "60319" "76735" "57724" "86157" "31557"
## [2314] "77133" "78209" "85076" "59179" "77077" "17264" "93039" "27091" "91593"
## [2323] "85242" "77262" "77215" "44150" "76385" "77389" "31048" "78160" "91135"
## [2332] "27302" "76111" "91359" "77143" "34259" "17075" "77219" "17413" "59067"
## [2341] "54112" "78285" "60295" "78133" "60588" "76697" "85021" "76557" "77508"
## [2350] "34261" "57668" "77139" "91408" "27102" "76237" "78420" "27453" "76614"
## [2359] "85128" "78238" "66136" "34159" "17360" "62454" "76618" "77371" "17297"
## [2368] "85035" "76668" "78164" "85294" "76573" "77100" "55386" "78571" "49090"
## [2377] "88147" "77084" "85114" "74096" "76631" "62400" "77022" "44071" "93015"
## [2386] "91204" "76341" "78108" "76349" "77283" "27025" "44132" "34267" "34110"
## [2395] "77127" "91560" "91634" "25031" "91275" "14333" "77069" "34146" "57303"
## [2404] "22134" "30133" "57256" "49026" "60523" "77177" "78677" "62443" "91332"
## [2413] "06149" "22034" "77413" "88158" "62617" "78152" "62848" "77222" "78567"
## [2422] "14437" "76152" "85251" "78189" "22198" "78263" "76401" "76276" "27534"
## [2431] "27517" "85155" "85093" "97414" "85017" "97422" "97410" "77359" "74253"
## [2440] "97411" "49332" "44015" "97420" "97416" "79235" "14117" "77519" "77257"
## [2449] "79202" "77349" "34028" "37003" "34153" "28036" "34215" "84072" "76682"
## [2458] "27022" "95612" "78337" "88367" "60454" "49298" "76131" "37179" "42123"
## [2467] "49008" "30258" "97415" "78389" "95566" "08170" "77529" "30012" "57147"
## [2476] "17193" "34042" "62349" "17483" "60286" "78048" "34164" "77378" "49178"
## [2485] "91132" "91525" "88098" "57143" "14514" "76552" "95426" "80649" "80333"
## [2494] "74169" "85129" "88225" "27622" "17003" "62083" "85234" "77075" "76476"
## [2503] "60187" "78276" "22090" "22324" "78616" "34199" "76110" "27394" "76287"
## [2512] "62277" "35136" "57018" "60346" "14488" "35350" "91093" "77099" "77469"
## [2521] "17303" "30280" "85243" "29026" "95658" "77435" "78245" "62846" "76486"
## [2530] "63345" "33162" "85025" "57601" "93061" "53007" "14712" "94055" "94048"
## [2539] "34309" "57474" "13004" "34014" "12145" "77209" "53040" "77168" "44120"
## [2548] "78506" "08346" "76019" "77195" "95120" "85095" "34307" "78620" "76757"
## [2557] "27474" "08142" "44110" "57482" "97409" "74278" "74081" "88054" "57552"
## [2566] "54232" "67116" "76648" "85259" "34151" "38517" "97404" "97402" "37115"
## [2575] "83029" "76331" "01343" "59063" "57730" "31230" "31324" "28371" "28062"
## [2584] "54490" "17267" "97418" "53049" "25465" "30062" "31157" "01049" "57690"
## [2593] "97408" "38382" "14228" "56002" "01183" "83102" "60298" "95166" "83064"
## [2602] "81220" "83037" "74031" "17057" "38118" "53089" "27213" "29027" "17109"
## [2611] "06036" "60577" "31202" "76621" "76547" "54462" "69010" "38507" "13046"
## [2620] "69081" "34111" "54136" "33249" "82002" "01043" "31033" "13051" "38381"
## [2629] "78520" "77409" "91115" "27363" "27439" "60504" "57762" "76297" "29259"
## [2638] "83035" "82033" "83081" "25282" "02245" "08180" "34289" "83086" "28140"
## [2647] "37132" "27679" "89342" "44183" "80279" "08140" "84056" "86281" "15267"
## [2656] "31507" "27412" "76261" "85004" "49003" "44213" "44038" "85126" "60471"
## [2665] "35226" "54265" "17421" "73087" "64496" "59599" "29189" "43036" "81065"
## [2674] "02775" "14366" "25558" "27299" "39300" "84038" "68063" "59386" "57160"
## [2683] "35356" "76712" "74201" "62727" "88530" "13036" "57627" "57610" "31188"
## [2692] "31526" "30082" "78233" "44166" "53145" "74208" "13016" "13021" "73184"
## [2701] "79270" "35196" "65226" "34162" "35265" "54099" "68112" "74043" "17409"
## [2710] "69189" "13041" "08119" "06078" "13118" "88152" "76208" "44188" "38401"
## [2719] "44149" "95040" "43071" "54430" "41164" "06030" "31435" "35363" "54257"
## [2728] "79170" "27065" "64102" "68287" "51507" "38069" "55291" "71118" "40046"
## [2737] "50615" "85100" "53170" "74143" "06058" "88228" "06026" "62413" "88151"
## [2746] "63148" "54051" "57329" "84067" "63178" "34241" "57159" "51312" "38468"
## [2755] "60545" "45187" "85198" "44187" "85061" "76453" "38421" "85067" "60509"
## [2764] "59508" "41226" "60539" "79172" "22055" "31182" "56053" "88302" "73236"
## [2773] "34037" "40279" "31396" "13110" "42187" "69136" "74088" "74007" "88438"
## [2782] "88328" "26177" "38134" "63404" "35069" "13032" "67152" "34296" "57172"
## [2791] "69249" "30138" "27664" "27313" "76245" "44024" "22194" "37243" "38565"
## [2800] "78588" "77433" "72241" "21501" "35318" "60342" "60114" "84127" "57165"
## [2809] "34002" "17245" "34143" "31297" "31161" "10239" "69273" "85046" "95213"
## [2818] "22387" "44081" "38466" "33023" "29043" "79345" "41040" "83130" "01320"
## [2827] "28166" "33080" "35334" "43200" "35251" "54366" "37232" "44082" "37226"
## [2836] "34152" "60608" "86297" "60314" "17059" "59378" "31358" "30020" "53168"
## [2845] "78033" "37124" "29039" "77430" "44115" "77239" "29061" "22121" "07102"
## [2854] "59094" "73128" "73204" "80318" "59410" "33167" "69112" "69069" "39190"
## [2863] "74131" "89130" "12169" "06159" "62297" "42011" "08053" "17197" "34281"
## [2872] "64122" "42147" "49345" "72084" "86272" "88250" "35025" "57218" "63381"
## [2881] "34067" "31091" "31573" "32334" "30053" "77311" "77096" "22028" "78601"
## [2890] "73303" "72025" "35141" "84018" "33075" "59585" "63180" "35327" "30333"
## [2899] "85101" "85213" "77477" "89206" "86102" "59172" "59032" "56162" "29233"
## [2908] "22212" "44051" "53144" "88088" "35193" "35250" "65059" "33069" "59214"
## [2917] "60327" "78015" "85008" "85012" "22379" "95541" "60500" "35197" "21191"
## [2926] "81156" "49299" "85115" "74109" "59220" "85281" "86019" "59459" "29268"
## [2935] "60341" "61006" "26106" "13037" "56097" "06044" "81038" "62662" "21054"
## [2944] "31107" "38530" "77442" "45095" "12305" "25318" "38151" "38400" "06025"
## [2953] "27261" "95352" "53001" "49163" "49060" "97407" "38412" "33529" "57385"
## [2962] "69131" "14137" "43157" "28056" "35281" "68146" "77473" "57287" "31561"
## [2971] "77333" "16028" "40245" "68334" "51346" "81297" "25039" "76255" "62907"
## [2980] "27039" "22223" "59603" "73181" "45284" "25388" "37178" "06118" "57468"
## [2989] "10067" "26169" "74123" "69234" "45208" "62764" "16113" "07186" "33090"
## [2998] "46309" "62771" "50041" "54382" "88075" "19272" "95211" "27246" "74293"
## [3007] "88029" "45122" "29045" "35137" "21355" "02795" "38184" "85059" "72244"
## [3016] "44028" "85070" "49068" "54369" "35042" "30341" "45082" "69027" "88413"
## [3025] "51058" "11076" "22050" "38155" "41047" "45310" "56184" "79109" "01283"
## [3034] "23096" "73182" "79081" "29266" "67067" "84019" "40281" "35093" "02408"
## [3043] "77248" "72031" "76698" "08090" "88078" "69152" "60667" "02361" "49220"
## [3052] "67437" "13081" "59383" "64260" "11206" "56121" "34142" "59271" "01249"
## [3061] "28218" "72320" "74218" "31399" "64125" "91095" "38107" "01047" "41269"
## [3070] "74165" "78291" "59507" "41198" "78501" "53260" "27428" "62040" "06150"
## [3079] "45147" "72022" "38392" "31205" "50353" "76135" "78007" "29235" "22135"
## [3088] "34294" "53088" "54280" "57205" "95430" "42149" "17161" "01457" "60290"
## [3097] "60151" "60703" "57701" "95205" "34297" "01202" "77365" "22225" "67507"
## [3106] "38425" "97412" "97413" "53273" "50352" "88276" "72087" "33366" "59569"
## [3115] "31135" "91038" "70310" "57095" "13014" "76752" "57572" "70334" "59509"
## [3124] "17338" "35234" "59426" "17168" "28229" "21535" "50639" "78107" "77055"
## [3133] "53109" "57179" "34194" "13066" "31467" "63014" "31429" "33349" "63284"
## [3142] "27317" "76046" "27077" "44045" "60581" "14689" "38247" "02722" "76628"
## [3151] "76463" "88391" "13071" "31587" "06105" "17091" "55010" "26337" "17283"
## [3160] "58086" "19123" "67348" "10420" "26108" "73084" "69157" "48092" "44127"
## [3169] "77318" "35240" "84030" "48095" "77493" "44173" "53172" "62896" "62401"
## [3178] "59646" "34033" "50483" "01265" "33273" "64430" "35070" "73103" "25527"
## [3187] "78071" "72146" "26002" "69034" "17203" "31476" "22136" "80131" "83118"
## [3196] "22206" "12300" "56143" "50408" "73070" "54328" "25547" "42094" "32256"
## [3205] "29179" "65417" "28096" "85204" "37015" "44084" "95308" "02810" "60282"
## [3214] "59623" "79241" "59352" "35024" "22182" "85049" "95028" "85080" "57150"
## [3223] "59602" "69296" "38037" "88077" "16358" "01034" "56021" "44156" "01103"
## [3232] "57057" "67500" "69149" "59574" "29124" "35228" "69036" "31116" "77457"
## [3241] "78576" "37270" "33449" "38303" "57269" "06038" "50543" "74104" "62148"
## [3250] "76313" "31533" "27536" "43102" "56195" "62194" "60360" "56176" "67063"
## [3259] "62274" "17322" "06108" "91232" "34342" "76026" "60141" "27632" "63193"
## [3268] "76258" "76088" "76533" "83127" "59090" "44133" "42265" "67506" "32147"
## [3277] "54077" "12198" "80001" "68056" "38019" "63063" "31565" "86070" "2B120"
## [3286] "17382" "64335" "55029" "14327" "57028" "50042" "07324" "87020" "77163"
## [3295] "60370" "83144" "63322" "64483" "73124" "63231" "49188" "51506" "13019"
## [3304] "60025" "77214" "54528" "43040" "72039" "34186" "14557" "08488" "88012"
## [3313] "57714" "95002" "54351" "04112" "44070" "54274" "95353" "57025" "27487"
## [3322] "74159" "17351" "67310" "30023" "56255" "18033" "85181" "76740" "88157"
## [3331] "38138" "63425" "59457" "86074" "28185" "78569" "09185" "42312" "43162"
## [3340] "86258" "13045" "68316" "30112" "31389" "32132" "30209" "76243" "27193"
## [3349] "33013" "77352" "83148" "74068" "84012" "73231" "33029" "13026" "49369"
## [3358] "91602" "89105" "60143" "59431" "85280" "56251" "60589" "38215" "76179"
## [3367] "78196" "33032" "61001" "87014" "59329" "27062" "60685" "73155" "77159"
## [3376] "76384" "22199" "69115" "13086" "73064" "85022" "45075" "77231" "73109"
## [3385] "72213" "53141" "76289" "35119" "72008" "37250" "57134" "85254" "53011"
## [3394] "44186" "10352" "77147" "74213" "59481" "50076" "77065" "31106" "22339"
## [3403] "62497" "57643" "38261" "53188" "60081" "30180" "38377" "85135" "13044"
## [3412] "45043" "27456" "57654" "60297" "54213" "81225" "95270" "86158" "34173"
## [3421] "31277" "53150" "78380" "30146" "34082" "74309" "95509" "85147" "60054"
## [3430] "86036" "44136" "69118" "49109" "45260" "53108" "57306" "67414" "76436"
## [3439] "62744" "40122" "17385" "42005" "91186" "56098" "38540" "77323" "73328"
## [3448] "59284" "88439" "62170" "62250" "76254" "53110" "45018" "59224" "62753"
## [3457] "06137" "83069" "30326" "40224" "44185" "84039" "63075" "57515" "38199"
## [3466] "33227" "17255" "57200" "83121" "63453" "85161" "73003" "86076" "95212"
## [3475] "16015" "54521" "76683" "44134" "59553" "59299" "68154" "62765" "33274"
## [3484] "60586" "77339" "30156" "35085" "50218" "85160" "74272" "95489" "74082"
## [3493] "59272" "77471" "77448" "76564" "74024" "29031" "57593" "34264" "13096"
## [3502] "76711" "27052" "91079" "77048" "30217" "30346" "60344" "13047" "76043"
## [3511] "97107" "60559" "76253" "76513" "77089" "49374" "26281" "27631" "27100"
## [3520] "80676" "88531" "49326" "77232" "62826" "76675" "76565" "60549" "44145"
## [3529] "85266" "35061" "62108" "53193" "45132" "27104" "72344" "01305" "57313"
## [3538] "77015" "38536" "13069" "59155" "69089" "37204" "95690" "53003" "34125"
## [3547] "63285" "44029" "31351" "38131" "84091" "31293" "79316" "51559" "44021"
## [3556] "38101" "31341" "74197" "14254" "38205" "26064" "29130" "59139" "41152"
## [3565] "35173" "65287" "08003" "41154" "59143" "54312" "02157" "35120" "03190"
## [3574] "78350" "88428" "21210" "83019" "37128" "91390" "77392" "45024" "77001"
## [3583] "62291" "67223" "03036" "33425" "33352" "14482" "42256" "30263" "89419"
## [3592] "01134" "38076" "54060" "31497" "35037" "63244" "64061" "77358" "67360"
## [3601] "62487" "85127" "90032" "30007" "59256" "76001" "62643" "57043" "27056"
## [3610] "52269" "33506" "37254" "78068" "95409" "31175" "62350" "64407" "67043"
## [3619] "88281" "07325" "62356" "24008" "29146" "14167" "27226" "38269" "33058"
## [3628] "67388" "14258" "62473" "28024" "53267" "85143" "54391" "38336" "27670"
## [3637] "35166" "93033" "77063" "77086" "01143" "49378" "06136" "13105" "59225"
## [3646] "78591" "38555" "14384" "58194" "27518" "30085" "37203" "76392" "77401"
## [3655] "88163" "34035" "27134" "60565" "60486" "33191" "25032" "08435" "25424"
## [3664] "85157" "52449" "52121" "38062" "13030" "77157" "32149" "88409" "35326"
## [3673] "30202" "50095" "14627" "60535" "19276" "07316" "21485" "22147" "40036"
## [3682] "44102" "12056" "13062" "25432" "77474" "80261" "68253" "73171" "26004"
## [3691] "39362" "71310" "72180" "59554" "34126" "25462" "12033" "80685" "21154"
## [3700] "01213" "60700" "62479" "22369" "39435" "61454" "64284" "73007" "91137"
## [3709] "62099" "74269" "60250" "49012" "27644" "59560" "57251" "97124" "68278"
## [3718] "60269" "72187" "38110" "13077" "53181" "06091" "59369" "06046" "88371"
## [3727] "52448" "66037" "84036" "41280" "37013" "59015" "70388" "33214" "49057"
## [3736] "70258" "76727" "85001" "62013" "60701" "74211" "07019" "41046" "72260"
## [3745] "59385" "51573" "85177" "74021" "74190" "74267" "06059" "79135"
```


---


background-image: url("https://media.giphy.com/media/ZgSDX7fstahz8kbhzZ/giphy.gif")
class: bottom

### Allégez-le !

* retirez les variables inutiles ;
* supprimez les variables redondantes ;
* filtrez les valeurs non pertinentes ?
* retirez les doublons, avec `distinct()`.


---

## Créez des variables manquantes

* sur la durée du trajet ?
* sur le jour de la semaine ?
* sur un test (est-ce que le département de départ est le même que le département d'arrivée) ?


```r
library(lubridate)
# créons une nouvelle variable où stocker notre jeu de données étendu
covoit_2 &lt;- covoit %&gt;%  mutate(journey_start_wday = wday(journey_start_datetime, label = TRUE,
                                                         abbr= FALSE,
                                                         week_start = getOption("lubridate.week.start", 1)))
table(covoit_2$journey_start_wday)
```

```
## 
##    lundi    mardi mercredi    jeudi vendredi   samedi dimanche 
##    56970    63586    60766    52894    59162    30953    26645
```


---

## Jetez un oeil à la distribution des variables

Vous pouvez utiliser `table()` mais vous pouvez aussi tenter une visualisation rapide.

La fonction `qplot()` de `{base}` permet de générer rapidement un graph quand une variable lui est passé en argument :


```r
qplot(covoit_2$journey_start_date)
```

![](index_files/figure-html/qplot_covoit_jour-1.png)&lt;!-- --&gt;



---

background-image: url("https://media.giphy.com/media/o1I8DMW1hVtAI/giphy.gif")
class: center, top, inverse

# 3. De la question journalistique&lt;br&gt;à la fonction informatique

---

background-image: url("https://media.giphy.com/media/n8SkNR77udWlG/giphy.gif")
class: center, top

## Quelles questions vous viennent spontanément&lt;br&gt;face à ce jeu de données ?

---

## Méthode : formuler en termes de dimensions

R et le `{tidyverse}` en particulier envisage les jeux de données suivant trois dimensions : **variables**, **observations** et **valeurs**.

Dès lors, approcher journalistiquement un jeu de données va consister à raisonner *"à l'intérieur"* des dimensions disponibles et suivant leurs limites.

Ici :
* chaque observation est un **trajet** : nous devrons donc raisonner à cette échelle ;
* chaque variable décrit les caractéristiques de ce trajet en terme de temps, espace ou voyageur·ses ;
* les valeurs se réfèrent à différentes échelles du trajet : échelles de temps (jour, mois, heure, semaine), d'espace (point, ville, département, pays) et de déplacement (départ / arrivée).

---

background-image: url("https://media.giphy.com/media/l0MYrkfKA0gxwqUNO/giphy.gif")
class: center, top

### Passons maintenant à la traduction.

Reformulez les questions listées en utilisant uniquement des dimensions du jeu de données étudié.

---

## Méthode : traduire en termes de fonctions

Une fois votre question formulée, il s'agit de lister les préalables nécessaires.

**Chaque besoin appellera une fonction qui traduira une opération logique** :
* se concentrer sur des observations : `filter()` ;
* se concentrer sur des variables : `select()` ;
* calculer pour chaque observation : `mutate()` ;
* calculer pour tout le jeu de données : `group_by() %&gt;% summarise()` ;
* etc.

---


background-image: url("./img/mutate_horst.png")
class: center, top, inverse
background-size:contain

---

background-image: url("./img/filter_horst.png")
class: center, top, inverse
background-size:contain
---


background-image: url(./img/lubridate_horst.png )
class: center, top, inverse
background-size:contain
---


### Exercice

Maintenant, à vous de répondre aux questions suivantes :
1. où vont les gens qui prennent des covoits ?
2. à quel moment de la journée y a-t-il le plus de covoits ?
3. est-ce la destination change en fonction de l'heure de la journée ?

---

background-image: url("https://media.giphy.com/media/l2SpUEiwphoktXT4Q/giphy.gif")
class: center, top, inverse

# 4. Compléter vos données

---

## cbind / rbind

La première solution simple pour compléter vos données consiste à y adjoindre des données de même format.

Dans le cas de la base preuve de covoiturage, le jeu est mensuel. Vous pouvez donc le compléter avec un `rbind()`.

**ATTENTION** : vous ne pouvez adjoindre que deux bases ayant le même nombre, type et nom de variable. Il faudra donc joindre les jeux avant de réalier les opérations de nettoyage.

Heureusement, vous pouvez intégrer `rbind()` dans votre pipeline.

---

## Les jointures : principes généraux

La jointure est l'opération consistant à rapprocher deux jeux de données sur la base d'une ou plusieurs variable(s) commune(s), appelée(s) **clef(s)**.

Assurée par la fonction `merge()` dans `{base}`, elle trouve son équivalent dans le package `{dplyr}` avec les fonctions `*_join()`.

---

### Les fonctions `*_join`

.pull-left[Les fonctions `*_join()` fonctionnent toutes selon le même principe :
* les premiers arguments sont deux tables **disposant d'une variable de même type** dont tout ou partie des valeurs sont communes ;
* le troisième argument est la clef qui peut être formulée de deux manières :
  * une chaîne de caractère : `by = "var"`, si les variables ont le même nom ;
  * un vecteur contenant les couples de variables : `by = c("ville" = "commune")`.

L'argument `by` peut recevoir plusieurs clefs.]


.pull-right[#### Les différentes jointures
![](./img/jointures.png)
Source : [RStudio Cheatsheets](https://github.com/rstudio/cheatsheets).]

---

### Exemple avec `left_join()`

Nous pouvons tenter d'étudier la relation entre le nombre de trajet en covoiturage et la présence d'une aire de covoiturage.

Pour ce faire, chargeons la Base Nationale des Lieux de Covoiturage (BNLC, [dispo sur data.gouv.fr](https://www.data.gouv.fr/fr/datasets/base-nationale-des-lieux-de-covoiturage/)) et voyons comment la joindre au jeu de données trajets :


```r
aires &lt;- read_csv("data/bnlc.csv")
glimpse(aires)
```

```
## Rows: 8,661
## Columns: 19
## $ id_lieu  &lt;chr&gt; "2A004-C-001", "01024-C-001", "01049-C-001", "01089-C-001", "~
## $ id_local &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N~
## $ nom_lieu &lt;chr&gt; "A Confina", "Mairie d'Attignat", "Aire de covoiturage Montlu~
## $ ad_lieu  &lt;chr&gt; "Lieu-dit Stagnacciu (Croisement RT22 - RD31)", "Place De La ~
## $ com_lieu &lt;chr&gt; "AJACCIO", "ATTIGNAT", "LA BOISSE", "CHATEAU GAILLARD", "CHAT~
## $ insee    &lt;chr&gt; "2A004", "01024", "01049", "01089", "01093", "01096", "01096"~
## $ type     &lt;chr&gt; "Supermarché", "Parking", "Aire de covoiturage", "Sortie d'au~
## $ date_maj &lt;date&gt; 2019-08-28, 2019-08-29, 2019-08-29, 2019-08-29, 2019-08-29, ~
## $ ouvert   &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, T~
## $ source   &lt;dbl&gt; 539830349, 200071751, 240100610, 240100883, 200071751, 200071~
## $ Xlong    &lt;dbl&gt; 8.783403, 5.158353, 5.048432, 5.311396, 4.964664, 5.073319, 5~
## $ Ylat     &lt;dbl&gt; 41.95237, 46.28957, 45.84054, 45.97709, 46.12901, 46.17810, 4~
## $ nbre_pl  &lt;dbl&gt; 0, 5, 100, 15, 10, 5, 3, 3, 1, 3, 3, 2, 2, 21, 5, 12, 8, 6, 5~
## $ nbre_pmr &lt;dbl&gt; 0, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
## $ duree    &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N~
## $ horaires &lt;chr&gt; "24/7", NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N~
## $ proprio  &lt;chr&gt; "Prive", NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ~
## $ lumiere  &lt;lgl&gt; TRUE, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,~
## $ comm     &lt;chr&gt; "transport : Bus Muvistrada (2)", NA, NA, NA, NA, NA, NA, NA,~
```


---

background-image: url("https://media.giphy.com/media/LtyywqYw5NgNq/giphy.gif")
class: center, top, inverse

# 5. C'est l'heure de l'exercice

---

background-image: url("https://github.com/allisonhorst/stats-illustrations/raw/main/rstats-artwork/code_hero.jpg")
class: center, top, inverse
background-size:contain

---

## Trouvez-moi un sujet dans la base covoiturage

.footnote[Cet exercice sera noté. Je vous demande une proposition d'un feuillet et les calculs qui vous y ont mené dans un .Rmd suivant la nomenclature habituelle.&lt;br&gt;**Merci de respecter les horaires de rendu**.]

---
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create();
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
